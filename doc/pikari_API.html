<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Pikari</title>
    <link type="text/css" rel="stylesheet" href="jsdoc-default.css">
</head>

<body>

<div id="main">
    




<section>

<header>
    
        <h2>Pikari</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">The global Pikari object. To initialize, add listeners and call <a href="Pikari.html#.start">Pikari.start</a>.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<hr><h4 class="name" id=".data"><span class="type-signature">(static) </span>data<span class="type-signature"> :Map.&lt;string, *></span></h4>




<div class="description">
    Local copy of the database.
<br>Keys identify fields and values are field values.
<br>Keys should be strings but values can be any objects, even nested.
<br>If you want to delete a field from database, set it's value to null.
<br>Changes to fields committed by any user are automatically updated.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Map.&lt;string, *></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





    <h5>Example</h5>
    
    <pre class="prettyprint"><code>if (await Pikari.setLocks("somefield", someotherfield)) {
   Pikari.data.set("somefield", "some value")
   Pikari.data.get(someotherfield)[someproperty] = "some value" 
   Pikari.commit()
 }</code></pre>



        
            
<hr><h4 class="name" id=".locks"><span class="type-signature">(static) </span>locks<span class="type-signature"> :Object.&lt;string, <a href="Pikari.html#.Lock">Pikari.Lock</a>></span></h4>




<div class="description">
    Locks that are currently held.
<br>Object's property names (keys) identify the locks and properties are of type <a href="Pikari.html#.Lock">Pikari.Lock</a>.
<br>Changes to locks can be listened with <a href="Pikari.html#.addLockListener">Pikari.addLockListener</a>.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object.&lt;string, <a href="Pikari.html#.Lock">Pikari.Lock</a>></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<hr><h4 class="name" id=".mylocks"><span class="type-signature">(static) </span>mylocks<span class="type-signature"> :Array.&lt;string></span></h4>




<div class="description">
    Names of locks that are currently held by the current user.
<br>Locks can be acquired with <a href="Pikari.html#.setLocks">Pikari.setLocks</a>.
<br>At least one lock must be held before commit can be called.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;string></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<hr><h4 class="name" id=".user"><span class="type-signature">(static) </span>user<span class="type-signature"> :string</span></h4>




<div class="description">
    Name of the user. Automatically generated if not explicitly given as user query param in url or at <a href="Pikari.html#.start">Pikari.start</a>.
Maximum length of a name is 200 letters.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<hr><h4 class="name" id=".users"><span class="type-signature">(static) </span>users<span class="type-signature"> :Map.&lt;string, Date></span></h4>




<div class="description">
    Users currenty online.
<br>Keys identify users and values tell the times when users became online.
<br>Changes to user presence can be listened with <a href="Pikari.html#.addUserListener">Pikari.addUserListener</a>.
<br>The users map is ordered by ascending connection time (which means that <a href="Pikari.html#.user">Pikari.user</a> is last at Pikari.EVENT.START)
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Map.&lt;string, Date></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <hr><h4 class="name" id=".addChangeListener"><span class="type-signature">(static) </span>addChangeListener<span class="signature">(handler)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Add handler for change events.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type">changeCallback</span>


            
            </td>

            

            

            <td class="description last"><a href="Pikari.html#.changeCallback">Pikari.changeCallback</a></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".addLockListener"><span class="type-signature">(static) </span>addLockListener<span class="signature">(handler)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Add handler for changes in lock ownerships.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type">lockCallback</span>


            
            </td>

            

            

            <td class="description last"><a href="Pikari.html#.lockCallback">Pikari.lockCallback</a></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".addMessageListener"><span class="type-signature">(static) </span>addMessageListener<span class="signature">(handler)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Add handler for messages sent by other users.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type">messageCallback</span>


            
            </td>

            

            

            <td class="description last"><a href="Pikari.html#.messageCallback">Pikari.messageCallback</a></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".addUserListener"><span class="type-signature">(static) </span>addUserListener<span class="signature">(handler)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Add handler for changes in on-line users.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type">userCallback</span>


            
            </td>

            

            

            <td class="description last"><a href="Pikari.html#.userCallback">Pikari.userCallback</a></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".clean"><span class="type-signature">(static) </span>clean<span class="signature">(str)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Helper function to clean a string so that it can be safely used as innerHTML.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>str</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the string to be cleaned</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    the cleaned version.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <hr><h4 class="name" id=".commit"><span class="type-signature">(static) </span>commit<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Commit changes to data fields.
<br>Only fields that are changed will be transferred to server.
<br>Will release all locks.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        if no locks are held ("no transaction is active") an error will be thrown
    
    </div>


    







        
            

    

    
    <hr><h4 class="name" id=".dropData"><span class="type-signature">(static) </span>dropData<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    A drastic operation to immediately remove all data from server.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".generateKey"><span class="type-signature">(static) </span>generateKey<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Helper function to generate a number that is unique enough for prototyping purposes.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    a random integer that is hopefully unique.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <hr><h4 class="name" id=".getFields"><span class="type-signature">(static) </span>getFields<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    A helper function to get data field names as an array.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Array of field names.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <hr><h4 class="name" id=".getOrDefault"><span class="type-signature">(static) </span>getOrDefault<span class="signature">(field, defaultvalue)</span><span class="type-signature"> &rarr; {*}</span></h4>
    

    



<div class="description">
    A helper function to get field value or default if undefined.
The default will be set to local data but not sent to server database.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Field name.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>defaultvalue</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">The default value if field is undefined.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The field value or defaultvalue.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    





        
            

    

    
    <hr><h4 class="name" id=".log"><span class="type-signature">(static) </span>log<span class="signature">(event)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Send some string to be added to the server-side log.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the string to be added; will be truncated to 10000 letters.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".logOut"><span class="type-signature">(static) </span>logOut<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Log out user. Pikari will respond by closing the web socket connection which triggers <a href="Pikari.html#.stopCallback">Pikari.stopCallback</a>.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".rollback"><span class="type-signature">(static) </span>rollback<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Rollback any changes to data fields.
<br>Will cause a local <a href="Pikari.html#.changeCallback">Pikari.changeCallback</a> with a list of rolled-back (modified) fields.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        if no locks are held ("no transaction is active") an error will be thrown
    
    </div>


    







        
            

    

    
    <hr><h4 class="name" id=".sendMessage"><span class="type-signature">(static) </span>sendMessage<span class="signature">(message, receivers)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Send a message to other on-line users.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">the message to send</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>receivers</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">a receiver or array of receivers. If missing or empty, the message will be sent to all users.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".setLocks"><span class="type-signature">(async, static) </span>setLocks<span class="signature">(&hellip;locks)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Acquire locks to data before making changes and committing ("start a transaction").
<br>Locks prevent concurrent modification by multiple users.
<br>The basic procedure is to use names-of-fields-to-be-changed as lock names.
<br>If lock setting fails (because required locks were already locked by other user(s)), all currently held locks by the user are released (to prevent dead-locks).
<br>Note: Remember to await for the return value, this is an async function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>locks</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">names (or array(s) of names) of the locks to lock. If locks is missing or empty, tries to acquire all existing field names.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    true if locking was successful. False if user lost all locks and is not eligible to <a href="Pikari.html#.commit">Pikari.commit</a>.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <hr><h4 class="name" id=".setStopListener"><span class="type-signature">(static) </span>setStopListener<span class="signature">(handler)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set handler for the stop event.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type">stopCallback</span>


            
            </td>

            

            

            <td class="description last"><a href="Pikari.html#.stopCallback">Pikari.stopCallback</a></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".start"><span class="type-signature">(static) </span>start<span class="signature">(user, password)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Connects the Pikari client to the Pikari server with given name and password (both optional).
If a user with same name is already connected, existing user will be immediately disconnected.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">user name; will be truncated to 200 letters</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">if a global password parameter was given when server was started, this must match it</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <hr><h4 class="name" id=".waiting"><span class="type-signature">(static) </span>waiting<span class="signature">(waiting)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    A helper function set wait or default cursor
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>waiting</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true for waiting, false for default cursor</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    
    <hr><h4 class="name" id=".changeCallback"><span class="type-signature"></span>changeCallback<span class="signature">(changetype, changedfields, changer)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Triggered whenever data might have been changed.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>changetype</code></td>
            

            <td class="type">
            
                
<span class="param-type">EVENT</span>


            
            </td>

            

            

            <td class="description last"><a href="Pikari.html#.EVENT">Pikari.EVENT</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>changedfields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">an array of changed field names</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>changer</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">changer's name ("" if EVENT == START)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















            
                
<hr><h4 class="name" id=".EVENT">EVENT</h4>




<div class="description">
    Describes the reason for data change in {changeCallback}
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>START</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Connection with server is established (see <a href="Pikari.html#.start">Pikari.start</a>) or server restarted itself</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>COMMIT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Someone committed data (see <a href="Pikari.html#.commit">Pikari.commit</a>)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ROLLBACK</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The local user rollbacked (see <a href="Pikari.html#.rollback">Pikari.rollback</a>)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>DROP</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Someone (see <a href="Pikari.html#.dropData">Pikari.dropData</a>) or server (changer == "server autorestart") dropped all data</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






            
                
<hr><h4 class="name" id=".Lock">Lock</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lockedby</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">current lock owner</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lockedsince</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The start time of locking</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






            
                

    

    
    <hr><h4 class="name" id=".lockCallback"><span class="type-signature"></span>lockCallback<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Triggered when locks are acquired or released.
<br>Note: also local <a href="Pikari.html#.setLocks">Pikari.setLocks</a> calls will trigger the lockCallback.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















            
                

    

    
    <hr><h4 class="name" id=".messageCallback"><span class="type-signature"></span>messageCallback<span class="signature">(sender, message)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Triggered when a user sends a message.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sender</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">sender of the message</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the message itself</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















            
                

    

    
    <hr><h4 class="name" id=".stopCallback"><span class="type-signature"></span>stopCallback<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Triggered at most once, only if connection to server is lost (usually might happen when server is closed).
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - Return true to prevent default handling (which disables all elements and shows an alert).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





            
                

    

    
    <hr><h4 class="name" id=".userCallback"><span class="type-signature"></span>userCallback<span class="signature">(user, login)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Triggered when a user logs in or disconnects.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the user that logged in or disconnected</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>login</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true iff the user logged in</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















            
    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Thu Nov 14 2019 16:59:04 GMT+0200 (EET)
</footer>
</body>
</html>